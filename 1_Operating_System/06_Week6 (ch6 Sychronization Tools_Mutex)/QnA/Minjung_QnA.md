# Ch5/6. CPU Scheduling & Synchronization Tools

<br>
<br>

## 김민정
### 1. Mutex 와 Semaphore의 차이점?

공유자원을 안전하게 관리하기 위해서는 상호배제(Mutual exclusion)를 달성하는 기법이 필요하다. Mutex와 Semaphore는 이를 위해 고안된 기법으로, 서로 다른 방식으로 상호배제를 달성한다. 
Mutex는 한 프로세스에 의해 소유될 수 있는 key를 기반으로 한 상호배제 기법이고, Semaphore은 멀티프로그래밍 환경에서 사용하고 있는 스레드/프로세스의 수를 공통으로 관리하는 하나의 값을 이용해 상호배제를 달성한다.

화장실을 공유자원, 사람들을 쓰레드와 프로세스, 빈칸의 갯수를 공유 자원에 접근할 수 있는 쓰레드 수라고 가정해 보자.

Mutex
뮤텍스는 화장실이 하나 뿐이 없는 식당과 비슷하다. 화장실을 가기 위해서는 카운터에서 열쇠를 받아 가야 한다. 화장실에 가려고 하는데 카운터에 키가 있으면 화장실에 사람이 없다는 뜻이고, 키를 이용해 화장실에 들어갈 수 있다. 당신이 화장실에서 해피타임을 보내는 사이 다른 사람들은 아무리 용무가 급하더라도 열쇠가 없기 때문에 카운터에서 기다려야 하며, 기다리던 사람들 중 맨 앞부터 순서대로 키를 받아 화장실에 간다.


Semaphore
세마포어를 이용하는 레스토랑의 화장실에는 여러 개의 칸과, 화장실의 빈 칸의 개수를 보여주는 전광판이 있다. 만약 당신이 화장실에 가고 싶다면 입구에서 빈 칸의 개수를 확인하고 빈 칸이 1개 이상이라면 빈칸의 개수를 하나 뺀 다음에 화장실로 입장해야 한다. 그리고 나올 때 빈 칸의 개수를 하나 더해준다. 모든 칸에 사람이 들어갔을 경우 빈 칸의 개수는 0이 되며 이때 화장실에 들어가고자 하는 사람이 있다면 빈 칸의 개수가 1로 바뀔 때까지 기다려야 한다. 사람들은 나오면서 빈 칸의 개수를 1씩 더한다. 그리고 기다리던 사람은 이 숫자에서 다시 1을 뺀 다음 화장실로 돌진한다.


               ####<Mutex>                                                             <Semaphore>   
 --------------------------------------------------------------------------------------------------------------------------                              
- 동기화 대상이 1개                                                      - 동기화 대상이 1개이상
- 자원 소유 가능                                                         - 자원 소유 불가능
- 상태가 0,1이므로 lock을 가질 수 있음                                    - 소유하지 않는 스레드가 Semaphore해제가능
  소유하고 있는 스레드만이 Mutex해제            
- 프로세스의 범위를 가지며 프로세스가 종료될 때 자동으로 Clean Up           - 시스템 범위에 걸쳐져 있고, 파일 시스템 상의 파일로 존재


출처 - [https://worthpreading.tistory.com/90]
